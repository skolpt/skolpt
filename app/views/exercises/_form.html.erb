<%= render 'shared/errors', obj: @exercise %>

<div class='row'>
  <div class='col-md-12'>
    <%= form_for(@exercise, html: { multipart: true, class: "form-horizontal", role: "form" }) do |f| %>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label :name %>
        </div>
        <div class='col-md-11'>
          <%= f.text_field :name, class: 'form-control', placeholder: 'Name of exercise', autofocus: true %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label :description %>
        </div>
        <div class='col-md-11'>
          <%= f.text_area :description, rows: 5, class: 'form-control', placeholder: 'Description of exercise' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label "Set up" %>
        </div>
        <div class='col-md-11'>
          <%= f.text_area :setup, rows: 5, class: 'form-control', placeholder: 'Set up of exercise' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label :movement %>
        </div>
        <div class='col-md-11'>
          <%= f.text_area :summary, rows: 10, class: 'form-control', placeholder: 'Summary of exercise' %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label :category %>
        </div>
        <div class='col-md-11'>
          <%= f.collection_select :categories_id, Category.all, :id, :name, {prompt: "Select a category"}, {class: "form-control"} %>
        </div>
      </div>
      <div class='form-group'>
        <div class='control-label col-md-1'>
          <%= f.label :muscle_group %>
        </div>
        <div class='col-md-11'>
          <%= f.collection_select :muscle_groups_id, Muscle_group.all, :id, :name, {prompt: "Select a muscle group"}, {class: "form-control"} %>
        </div>
      </div>
      
      <!-- Image Field -->
      <span class="picture">
        <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
      </span>
      
      <div class='form-group'>
        <div class='col-md-offset-1 col-md-11'>
          <%= f.submit class: 'btn btn-success pull-right' %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<script type="text/javascript">
  $('#exercise_picture').bind('change', function() {
    size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file');
    }
  });
</script>